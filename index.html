<!DOCTYPE html>
<html>
<head>
  <title>Functional Reactive Programming on Android</title>
  <meta charset="utf-8">
  <meta name="description" content="Functional Reactive Programming on Android">
  <meta name="author" content="Sam Lee">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/solarized_dark.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <aside class="gdbar">
    <img src="assets/img/icon.png">
  </aside>
  <hgroup class="auto-fadein">
    <h1>Functional Reactive Programming on Android</h1>
    <h2></h2>
    <p>Sam Lee<br/>2014/11/22 @Mosut x Taina.py x FP</p>
  </hgroup>
  <article></article>  
  <footer class = 'license'>
    <a href='http://creativecommons.org/licenses/by-sa/3.0/'>
    <img width = '80px' src = 'http://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png'>
    </a>
  </footer>
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <article data-timings="">
    <style type="text/css">
.dark q {
  color: white;
}

g {
  color: green;
}

r {
  color: red;
}

gg {
  font-size: 28pt;
}


strong {
  font-weight: bold;
}

code {
  background-color: #000000;
}
img[alt=marble] {  margin-left: auto;margin-right: auto;width: 800px; }
</style>

<h2>About Me</h2>

<p><br/></p>

<p><strong>Sam Lee</strong> (<a href="mailto:misgod.tw@gmail.com">misgod.tw@gmail.com</a>)</p>

<p><br/></p>

<ul>
<li><p>A software engineer lives in Tainan</p></li>
<li><p>Work for htc</p></li>
<li><p>Most used Clojure, Scala and Java</p></li>
<li><p>Interested in Functional Programming</p></li>
<li><p>Interested in Machine Learning and Data Analyst</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h2>What Is Functional Reactive Programming</h2>
  </hgroup>
  <article data-timings="">
    <p>A style of programming based on two key ideas: continuous time-varying behaviors, and event-based reactivity</p>

<p><img src="assets/img/excel.png" alt="excel">
<a href="excel.xls">Try it</a></p>

<pre><code class="java">aObservable.map(x -&gt; x*x) //Square
           .reduce((a, b) -&gt; a+b) //Sum
           .subscribe(x -&gt; println(x)); //Show

</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2>Why Functional Reactive Programming</h2>
  </hgroup>
  <article data-timings="">
    <p><br/></p>

<ul>
<li>Writing concurrent programs correct is difficult.</li>
</ul>

<blockquote>
<ul class = "build incremental">
<li><p>You can transform &amp; compose  asynchronous operations.</p></li>
<li><p>High-level abstractions    </p></li>
<li><p>Standard error handling</p></li>
</ul>
</blockquote>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Say Hello to Rx family</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Java:       <strong><r>RxJava</r></strong></li>
<li>Scala:      RxScala</li>
<li>Clojure:    RxClojure</li>
<li>Groovy:     RxGroovy</li>
<li>JRuby:      RxJRuby</li>
<li>JavaScript: RxJS</li>
<li>C#:         Rx.NET</li>
<li>C#(Unity):  UniRx</li>
<li>C++:        RxCpp</li>
<li>Ruby:       Rx.rb</li>
<li>Python:     RxPY</li>
<li>Kotlin:     RxKotlin</li>
</ul>

<p>[<a href="http://reactivex.io/">http://reactivex.io/</a>]</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>Introduce to RxJava</h2>
  </hgroup>
  <article data-timings="">
    <p><br/>
<a href="https://github.com/ReactiveX/RxJava">https://github.com/ReactiveX/RxJava</a></p>

<blockquote>
<ul class = "build incremental">
<li><p>RxJava is a JVM implementation of Reactive Extensions</p></li>
<li><p>RxJava extends Observer pattern to support data/event and compose operators in abstract.</p></li>
<li><p>Built by Netflix</p></li>
<li><p>Support Java 6+ &amp; Android 2.3+</p></li>
<li><p>Java 8 lambda support</p></li>
</ul>
</blockquote>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Asynchronous sequences of multiple items</h2>
  </hgroup>
  <article data-timings="">
    <p><br/></p>

<table><thead>
<tr>
<th></th>
<th>single items</th>
<th>multiple items</th>
</tr>
</thead><tbody>
<tr>
<td>synchronous</td>
<td>T getData()</td>
<td>Iterable&lt;T&gt; getData()</td>
</tr>
<tr>
<td>asynchronous</td>
<td>Future&lt;T&gt; getData()</td>
<td><r><strong>Observable</strong>&lt;T&gt;</r> getData()</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>Observable is &quot;dual&quot; to Iterable</h2>
  </hgroup>
  <article data-timings="">
    <table><thead>
<tr>
<th>event</th>
<th>Iterable (pull)</th>
<th>Observable (push)</th>
</tr>
</thead><tbody>
<tr>
<td>retrieve data</td>
<td>T next()</td>
<td>onNext(T)</td>
</tr>
<tr>
<td>discover error</td>
<td>throws Exception</td>
<td>onError(Exception)</td>
</tr>
<tr>
<td>complete</td>
<td>!hasNext()</td>
<td>onCompleted()</td>
</tr>
</tbody></table>

<p><img src="assets/img/push.png" alt="push"></p>

<p><a href="http://csl.stanford.edu/%7Echristos/pldi2010.fit/meijer.duality.pdf">http://csl.stanford.edu/~christos/pldi2010.fit/meijer.duality.pdf</a></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>Observable &amp; Observer</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/img/push2.png" alt="push"></p>

<pre><code>pushman.subscribe(new Action1&lt;Integer&gt;() {
  @Override
  public void call(Integer x) {
    println(&quot;receive: &quot; + x);
  }
});  
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>Observer pattern</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/img/observabl_pattern.png" alt="marble"></p>

<p><em>image from <a href="http://slides.com/yaroslavheriatovych/frponandroid">http://slides.com/yaroslavheriatovych/frponandroid</a></em></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>Functional Reactive</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/img/reactive_pattern.png" alt="marble"></p>

<p><em>image from <a href="http://slides.com/yaroslavheriatovych/frponandroid">http://slides.com/yaroslavheriatovych/frponandroid</a></em></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-11" style="background:;">
  <hgroup>
    <h2>Lambda Expression</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>Original</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="Java">aObservable.filter(new Func1&lt;Integer, Boolean&gt;() {
               public Boolean call(Integer n) {
                   return n % 2 == 0;
               }
           })
           .map(new Func1&lt;Integer, Integer&gt;() {
               public Integer call(Integer n) {
                   return n * n;
               }
           })
           .subscribe(new Action1&lt;Integer&gt;() {
               public void call(Integer n) {
                   System.out.println(n); 
               }
           });      
</code></pre>

<blockquote>
<ul class = "build incremental">
<li><gg>WTF...</gg></li>
</ul>
</blockquote>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-13" style="background:;">
  <hgroup>
    <h2>Java 8 lambda</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/2014/01/lambda.jpg" alt="lambda"></p>

<pre><code class="java">aObservable.filter(n -&gt; n % 2 == 0)
           .map(n -&gt; n * n)
           .subscribe(System.out::println);
</code></pre>

<blockquote>
<ul class = "build incremental">
<li><gg> but ... no java8 on Davilk(Android)</gg></li>
</ul>
</blockquote>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-14" style="background:;">
  <hgroup>
    <h2>Retrolambda</h2>
  </hgroup>
  <article data-timings="">
    <h3>Retrolambda lets you run Java 8 code with <strong>lambda expressions</strong> and <strong>method references</strong> on Java 7 or lower.</h3>

<p><br/></p>

<ul>
<li><p>Retrolambda</p>

<ul>
<li><a href="https://github.com/orfjackal/retrolambda">https://github.com/orfjackal/retrolambda</a></li>
</ul></li>
<li><p>Gradle plugin</p>

<ul>
<li><a href="https://github.com/evant/gradle-retrolambda">https://github.com/evant/gradle-retrolambda</a></li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h2>Retrolambda</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/img/retrolambda.png" alt="Retrolambda"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-16" style="background:;">
  <hgroup>
    <h2>rx.Observable</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2>Creating Observable - just</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="http://github.com/ReactiveX/RxJava/wiki/images/rx-operators/just.png" alt="marble"></p>

<pre><code class="java">Observable&lt;List&lt;String&gt;&gt; ob = Observable.just(aList);
Observable&lt;String&gt; ob2 = Observable.just(&quot;Some String&quot;);
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h2>Creating Observable - from</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="http://github.com/ReactiveX/RxJava/wiki/images/rx-operators/from.png" alt="marble"></p>

<pre><code class="java">List&lt;String&gt;  aList = ...;
Observable&lt;String&gt; ob = Observable.from(aList);
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h2>Creating Observable - create</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="http://github.com/ReactiveX/RxJava/wiki/images/rx-operators/create.png" alt="marble"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-20" style="background:;">
  <hgroup>
    <h2>Creating Observable - create</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="java">ob = Observable.create(subscriber -&gt; {
    try {
        for (String s : aList) {
            if (subscriber.isUnsubscribed())
                return;
            subscriber.onNext(s);
        }
        subscriber.onCompleted();
    } catch (Exception e) {
        subscriber.onError(e);
    }
});
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-21" style="background:;">
  <hgroup>
    <h2>Creating Observable ...</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><p>repeat( )</p></li>
<li><p>range( )</p></li>
<li><p>interval( )</p></li>
<li><p>timer( )</p></li>
<li><p>empty( )</p></li>
<li><p>error( )</p></li>
</ul>

<p><a href="https://github.com/ReactiveX/RxJava/wiki/Creating-Observables">https://github.com/ReactiveX/RxJava/wiki/Creating-Observables</a></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-22" style="background:;">
  <hgroup>
    <h2>Transforming Observables - map</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="http://github.com/ReactiveX/RxJava/wiki/images/rx-operators/map.png" alt="marble"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-23" style="background:;">
  <hgroup>
    <h2>Transforming Observables - map</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="java">Observable.range(0, 5)
          .map(x -&gt; toBinaryString(x*x))
          .subscribe(s -&gt; println(s),
                  err -&gt;  err.printStackTrace(),
                  () -&gt;   println(&quot;done&quot;));
</code></pre>

<pre><code>0
1
100
1001
10000
done
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-24" style="background:;">
  <hgroup>
    <h2>Transforming Observables - flatmap</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="http://github.com/ReactiveX/RxJava/wiki/images/rx-operators/flatMap.png" alt="marble"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-25" style="background:;">
  <hgroup>
    <h2>Transforming Observables - flatmap</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="java">Observable.range(1, 3)
          .flatMap(x -&gt; Observable.just(x).repeat(x))
          .subscribe(System.out::println);
</code></pre>

<pre><code>1
2
2
3
3
3
</code></pre>

<blockquote>
<ul class = "build incremental">
<li><gg> Observable is a <r><em>Monad</em></r> </gg>

<ul>
<li>unit (return) ==&gt; <strong>just</strong></li>
<li>join (bind, &gt;&gt;=) ==&gt; <strong>flatmap</strong></li>
</ul></li>
</ul>
</blockquote>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-26" style="background:;">
  <hgroup>
    <h2>Transforming Observables - concatmap</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="http://github.com/ReactiveX/RxJava/wiki/images/rx-operators/concatMap.png" alt="marble"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-27" style="background:;">
  <hgroup>
    <h2>Filtering Observables</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="http://github.com/ReactiveX/RxJava/wiki/images/rx-operators/filter.png" alt="marble"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-28" style="background:;">
  <hgroup>
    <h2>Filtering Observables</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="java">Observable.range(0, 10)
          .filter(x -&gt; (x % 2) == 0)
          .subscribe(System.out::println);
</code></pre>

<pre><code>0
2 
4 
6
8
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-29" style="background:;">
  <hgroup>
    <h2>Filtering Observables</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>distinct( )</li>
<li>first( )</li>
<li>take( )</li>
<li>skip( )</li>
<li>elementAt( )</li>
<li>sample( )</li>
<li>more...</li>
</ul>

<p><a href="https://github.com/ReactiveX/RxJava/wiki/Filtering-Observables">https://github.com/ReactiveX/RxJava/wiki/Filtering-Observables</a></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-30" style="background:;">
  <hgroup>
    <h2>Aggregate Operators - reduce</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="http://github.com/ReactiveX/RxJava/wiki/images/rx-operators/reduce.png" alt="marble"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-31" style="background:;">
  <hgroup>
    <h2>Aggregate Operators - reduce</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="java">Observable.range(1, 10)
          .reduce((a, b) -&gt; a*b)
          .subscribe(System.out::println);
</code></pre>

<pre><code>3628800
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-32" style="background:;">
  <hgroup>
    <h2>Aggregate Operators - concat</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="http://github.com/ReactiveX/RxJava/wiki/images/rx-operators/concat.png" alt="marble"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-33" style="background:;">
  <hgroup>
    <h2>Combining Observables - merge</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="http://github.com/ReactiveX/RxJava/wiki/images/rx-operators/merge.png" alt="marble"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-34" style="background:;">
  <hgroup>
    <h2>Combining Observables - merge</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="java">Observable&lt;String&gt; lower = Observable.from(new String[]{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;});
Observable&lt;String&gt; upper = Observable.from(new String[]{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;});

Observable.merge(lower,upper).subscribe(System.out::println);
/* Or */
lower.mergeWith(upper).subscribe(System.out::println);
</code></pre>

<pre><code>a
b
A
c
B
C
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-35" style="background:;">
  <hgroup>
    <h2>Combining Observables - startWith</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="http://github.com/ReactiveX/RxJava/wiki/images/rx-operators/startWith.png" alt="marble"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-36" style="background:;">
  <hgroup>
    <h2>Combining Observables - startWith</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="java">Observable&lt;String&gt; lower = Observable.from(new String[]{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;});
Observable&lt;String&gt; upper = Observable.from(new String[]{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;});


lower.startWith(upper).subscribe(System.out::println);
</code></pre>

<pre><code>A
B
C
a
b
c
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-37" style="background:;">
  <hgroup>
    <h2>Combining Observables - zip</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="http://github.com/ReactiveX/RxJava/wiki/images/rx-operators/zip.png" alt="marble"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-38" style="background:;">
  <hgroup>
    <h2>Combining Observables - zip</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="java">Observable&lt;String&gt; lower = Observable.from(new String[]{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;});
Observable&lt;String&gt; upper = Observable.from(new String[]{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;});

Observable.zip(lower, upper, Pair::create)
          .map(pair -&gt; pair.first +&quot;_&quot; +pair.second)
          .subscribe(System.out::println);
</code></pre>

<pre><code>a_A
b_B
c_C
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-39" style="background:;">
  <hgroup>
    <h2>Error Handling</h2>
  </hgroup>
  <article data-timings="">
    <p><br/></p>

<ul>
<li><p>OnErrorResumeNext</p></li>
<li><p>OnErrorReturn</p></li>
<li><p>retry</p></li>
</ul>

<p><br/></p>

<p><a href="https://github.com/ReactiveX/RxJava/wiki/Error-Handling-Operators">https://github.com/ReactiveX/RxJava/wiki/Error-Handling-Operators</a></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-40" style="background:;">
  <hgroup>
    <h2>Threading</h2>
  </hgroup>
  <article data-timings="">
    <h3>observeOn</h3>

<p>specify on which Scheduler a Subscriber should observe the Observable</p>

<h3>subscribeOn</h3>

<p>specify which Scheduler an Observable should use when its subscription is invoked</p>

<p><br/>
<a href="https://github.com/ReactiveX/RxJava/wiki/Scheduler">https://github.com/ReactiveX/RxJava/wiki/Scheduler</a></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-41" style="background:;">
  <hgroup>
    <h2>Subjects</h2>
  </hgroup>
  <article data-timings="">
    <h3>A Subject  = Subscriber + Observable</h3>

<p><img src="assets/img/subject.png" alt=""></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-42" style="background:;">
  <hgroup>
    <h2>Subjects</h2>
  </hgroup>
  <article data-timings="">
    <p><br/></p>

<ul>
<li><p>PublishSubject</p></li>
<li><p>BehaviorSubject</p></li>
<li><p>AsyncSubject</p></li>
<li><p>ReplaySubject</p></li>
</ul>

<p><br/></p>

<p><a href="https://github.com/ReactiveX/RxJava/wiki/Subject">https://github.com/ReactiveX/RxJava/wiki/Subject</a></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-43" style="background:;">
  <hgroup>
    <h2>Subjects - How to use</h2>
  </hgroup>
  <article data-timings="">
    <p>Subscriber -----&gt; Observable</p>

<pre><code class="java">PublishSubject&lt;Integer&gt; subject = PublishSubject.create();

//Observable
subject.map(x -&gt; x*x)
       .subscribe(o -&gt; println(o));

subject.map(x -&gt; x+1)
       .subscribe(o -&gt; println(o));       
</code></pre>

<pre><code>//Subscriber
subject.onNext(11);
subject.onNext(11);
subject.onCompleted();
</code></pre>

<ul>
<li>Masking a Subject as an Observable - <b>aSubject.asObservable()</b></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-44" style="background:;">
  <hgroup>
    <h2>Hot and Cold Observables</h2>
  </hgroup>
  <article data-timings="">
    <p><br/></p>

<ul>
<li><gg> A <strong>“cold”</strong> Observable waits to emitting items until observer subscribes , and so an observer can see the whole sequenceg.</gg></li>
</ul>

<p><br/></p>

<ul>
<li><gg> A <strong>“hot”</strong> Observable may begins emitting items as soon as it is created.</gg></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-45" style="background:;">
  <hgroup>
    <h2>RxJava on Android</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-46" style="background:;">
  <hgroup>
    <h2>About Android Development</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><p>Developing a robust app is painful</p>

<ul>
<li>life cycle, async, event, state, threading, error handling</li>
</ul></li>
<li><p>Developing a good UX app is painful</p>

<ul>
<li>interactive, realtime, smooth, animation</li>
</ul></li>
<li><p>Thread, Executor, Handler, AsyncTask, Loader ...</p></li>
<li><p>RxJava can mitigate your pain</p></li>
<li><p>Retrofit supports methods with a return type of rx.Observable</p></li>
</ul>

<pre><code class="java">  @GET(&quot;/user/{id}/photo&quot;)
  Observable&lt;Photo&gt; getUserPhoto(@Path(&quot;id&quot;) int id);
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-47" style="background:;">
  <hgroup>
    <h2>RxAndroid</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><p>Android specific bindings for RxJava.</p>

<ul>
<li><a href="https://github.com/ReactiveX/RxAndroid">https://github.com/ReactiveX/RxAndroid</a></li>
</ul></li>
<li><p>Scheduler  on  main UI thread or a given Android Handler thread.</p>

<ul>
<li>AndroidSchedulers</li>
<li>HandlerThreadScheduler</li>
</ul></li>
<li><p>Reactive components for common Android use cases and UI widgets</p>

<ul>
<li>AndroidObservable</li>
<li>ViewObservable</li>
</ul></li>
</ul>

<h3>Don&#39;t forget to unsubscribe to avoid memory leak!</h3>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-48" style="background:;">
  <hgroup>
    <h2>Thinking in Functional Reactive</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-49" style="background:;">
  <hgroup>
    <h2>Case 1 - Say Hello to Callback Hell</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="java">/* API */
void getFromServer(String key, Action1&lt;String&gt; callback);
void getFromDB(String key, Action1&lt;String&gt; callback);

/* Code */
btnClick.setOnClickListener(new View.OnClickListener() {
    public void onClick(View view) {
        getFromDB(&quot;myid&quot;, new Action1&lt;String&gt;() {
            public void call(String s) {
                getFromServer(s, new Action1&lt;String&gt;() {
                    public void call(final String s) {
                     runOnUiThread(new Runnable() {
                            public void run() {
                                Toast.makeText(context, s, LENGTH_LONG).show();
                            }
                        });
     /* ... a lot of }) ... */

</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-50" style="background:;">
  <hgroup>
    <h2>Case 1 - Say Hello to Callback Hell</h2>
  </hgroup>
  <article data-timings="">
    <h3>Using Lambda expression</h3>

<pre><code class="java">btnClick.setOnClickListener(view -&gt;
    getFromDB(&quot;myid&quot;,
            s -&gt; getFromServer(s,
                        x -&gt; runOnUiThread(
                                () -&gt; Toast.makeText(context, x, LENGTH_LONG).show()))));

</code></pre>

<blockquote>
<ul class = "build incremental">
<li><gg>Shorter but not easy to read </gg></li>
</ul>
</blockquote>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-51" style="background:;">
  <hgroup>
    <h2>Case 1 - Say Goodbye to Callback Hell</h2>
  </hgroup>
  <article data-timings="">
    <h3>Using rx.Observable</h3>

<pre><code class="java">/* API */
Observable&lt;String&gt; getFromServer(String key);
Observable&lt;String&gt; getFromDB(String key);

/* Code */
ViewObservable.clicks(btnClick)
              .map(x -&gt; &quot;myid&quot;)
              .observeOn(Schedulers.io())
              .flatMap(this::getFromDB)
              .flatMap(this::getFromServer)
              .observeOn(AndroidSchedulers.mainThread())
              .subscribe(x -&gt; Toast.makeText(context, x, LENGTH_LONG).show());  
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-52" style="background:;">
  <hgroup>
    <h2>Case 2 - All In One search</h2>
  </hgroup>
  <article data-timings="">
    <h4>Requirements</h4>

<ol>
<li>A search engine includes google/yahoo/bing search results.</li>
<li>Should search different engines in parallel</li>
<li>Retry 3 times when search fail</li>
<li>remove redundant url</li>
</ol>

<pre><code class="java">Observable&lt;SearchResult&gt; g = googleSearch.search(keyword).retry(3);
Observable&lt;SearchResult&gt; b = bingSearch.search(keyword).retry(3);
Observable&lt;SearchResult&gt; y = yahooSearch.search(keyword).retry(3);

Observable.merge(g, b, y)
          .distinct(site -&gt; site.url)
          .observeOn(AndroidSchedulers.mainThread())
          .subscribe(site -&gt; appendDataForUI()                          ,
                     err -&gt; errorhandle(err));
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-53" style="background:;">
  <hgroup>
    <h2>Case 3 - A simple EventBus</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="java">PublishSubject&lt;Object&gt; subject = PublishSubject.create(); //Global Singleton
</code></pre>

<pre><code class="java">//...In Class A...
subject.filter(x -&gt;  x instanceof DataUpdateAction)
       .subscribe( x -&gt; ... doSomething ...);

//...In Class B...
subject.filter(x -&gt;  x instanceof DeleteAction)
       .subscribe( x -&gt; ... doSomething ...);

//...In Class C...
subject.filter(x -&gt;  x instanceof RefreshAction)
       .subscribe( x -&gt; ... doSomething ...);
</code></pre>

<pre><code class="java">subject.onNext(aDataUpdateAction);
subject.onNext(aDataUpdateAction;
subject.onNext(aRefreshAction);
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-54" style="background:;">
  <hgroup>
    <h2>Case 4 - Input Suggestion</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/img/suggest.png" alt="suggest"></p>

<pre><code class="java">private Observable&lt;String&gt; getSuggestion(String prefix) { ... }

Observable&lt;Observable&lt;List&lt;String&gt;&gt;&gt; o =
                ViewObservable.text(aEditText)
                              .map(event -&gt; event.text.toString())
                              .filter(x -&gt; x.length() &gt; 1)
                              .observeOn(Schedulers.io())
                              .map(x -&gt; getSuggestion(x).toList());

Observable.switchOnNext(o)
          .observeOn(AndroidSchedulers.mainThread())
          .subscribe(lst -&gt; showSuggestion(lst));
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-55" style="background:;">
  <hgroup>
    <h2>Conclusion</h2>
  </hgroup>
  <article data-timings="">
    <p><br/></p>

<ol class="build fade">
  <li>Functional Reactive makes async/state design straightforward.</li>

  <li>RxJava is not just a library.</li>

  <li>The most important is Functional Reactive Thinking. </li>

  <li>Try It in your next project!</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="qa" style="background:;">
  <article data-timings="">
    <style>
#qa {
  background-image:url(http://www.zillow.com/blog/files/2013/01/Q-A.jpg); 
  background-repeat: no-repeat;
  background-position: center center;
  background-size: cover;
}
</style>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title=''>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='What Is Functional Reactive Programming'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Why Functional Reactive Programming'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Say Hello to Rx family'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Introduce to RxJava'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Asynchronous sequences of multiple items'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='Observable is &quot;dual&quot; to Iterable'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Observable &amp; Observer'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Observer pattern'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Functional Reactive'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='Lambda Expression'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='Original'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='Java 8 lambda'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='Retrolambda'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='Retrolambda'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='rx.Observable'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Creating Observable - just'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='Creating Observable - from'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Creating Observable - create'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='Creating Observable - create'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='Creating Observable ...'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='Transforming Observables - map'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='Transforming Observables - map'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Transforming Observables - flatmap'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='Transforming Observables - flatmap'>
         25
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='Transforming Observables - concatmap'>
         26
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='Filtering Observables'>
         27
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=28 title='Filtering Observables'>
         28
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=29 title='Filtering Observables'>
         29
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=30 title='Aggregate Operators - reduce'>
         30
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=31 title='Aggregate Operators - reduce'>
         31
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=32 title='Aggregate Operators - concat'>
         32
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=33 title='Combining Observables - merge'>
         33
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=34 title='Combining Observables - merge'>
         34
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=35 title='Combining Observables - startWith'>
         35
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=36 title='Combining Observables - startWith'>
         36
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=37 title='Combining Observables - zip'>
         37
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=38 title='Combining Observables - zip'>
         38
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=39 title='Error Handling'>
         39
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=40 title='Threading'>
         40
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=41 title='Subjects'>
         41
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=42 title='Subjects'>
         42
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=43 title='Subjects - How to use'>
         43
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=44 title='Hot and Cold Observables'>
         44
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=45 title='RxJava on Android'>
         45
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=46 title='About Android Development'>
         46
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=47 title='RxAndroid'>
         47
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=48 title='Thinking in Functional Reactive'>
         48
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=49 title='Case 1 - Say Hello to Callback Hell'>
         49
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=50 title='Case 1 - Say Hello to Callback Hell'>
         50
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=51 title='Case 1 - Say Goodbye to Callback Hell'>
         51
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=52 title='Case 2 - All In One search'>
         52
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=53 title='Case 3 - A simple EventBus'>
         53
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=54 title='Case 4 - Input Suggestion'>
         54
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=55 title='Conclusion'>
         55
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=56 title=''>
         56
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- MathJax: Fall back to local if CDN offline but local image fonts are not supported (saves >100MB) -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
  </script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script> -->
  <script>window.MathJax || document.write('<script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS":{imageFont:null}});<\/script><script src="libraries/widgets/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>')
</script>
<!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>